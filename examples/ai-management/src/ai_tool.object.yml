name: ai_tool
label: AI Tool
icon: ri-tools-line
description: |
  AI Tools are reusable AI-powered functions that can be configured and executed programmatically.
  Similar to Zapier AI Actions, they provide a standardized way to integrate AI capabilities
  into workflows and applications. Each tool encapsulates an AI model with specific configuration,
  input/output schemas, and execution parameters. Tools can perform tasks like text processing,
  code generation, translation, sentiment analysis, and more.
  
  Key Concepts:
  - Tools are stateless and can be called multiple times
  - Input and output are validated against JSON schemas
  - Execution is tracked for usage analytics and cost monitoring
  - Tools support multiple AI providers (OpenAI, Anthropic, Google AI, etc.)
  - Rate limiting and cost controls prevent overruns
enable_search: true

fields:
  name:
    type: text
    label: Tool Name
    required: true
    index: true
    searchable: true
    description: Unique name for the AI tool
    max_length: 100
  
  display_name:
    type: text
    label: Display Name
    required: true
    searchable: true
    description: Human-readable name for the tool
    max_length: 200
  
  description:
    type: textarea
    label: Description
    required: true
    searchable: true
    description: Detailed description of what the tool does
    max_length: 1000
  
  category:
    type: select
    label: Category
    required: true
    options:
      - label: Text Processing
        value: text_processing
      - label: Data Analysis
        value: data_analysis
      - label: Image Generation
        value: image_generation
      - label: Code Generation
        value: code_generation
      - label: Translation
        value: translation
      - label: Sentiment Analysis
        value: sentiment_analysis
      - label: Summarization
        value: summarization
      - label: Question Answering
        value: question_answering
      - label: Custom
        value: custom
    defaultValue: custom
  
  provider:
    type: select
    label: AI Provider
    required: true
    options:
      - label: OpenAI
        value: openai
      - label: Anthropic
        value: anthropic
      - label: Google AI
        value: google_ai
      - label: AWS Bedrock
        value: aws_bedrock
      - label: Azure OpenAI
        value: azure_openai
      - label: Custom
        value: custom
    description: The AI service provider for this tool
  
  model:
    type: text
    label: Model Name
    description: Specific AI model to use (e.g., gpt-4, claude-3-opus)
    max_length: 100
  
  version:
    type: text
    label: Version
    description: Tool version identifier
    defaultValue: "1.0.0"
    max_length: 20
  
  status:
    type: select
    label: Status
    required: true
    options:
      - label: Draft
        value: draft
      - label: Active
        value: active
      - label: Deprecated
        value: deprecated
      - label: Archived
        value: archived
    defaultValue: draft
    index: true
  
  input_schema:
    type: object
    label: Input Schema
    description: JSON schema defining the expected input parameters for this AI tool
    help_text: |
      Define the structure and validation rules for tool inputs using JSON Schema format.
      Example: { "type": "object", "properties": { "text": { "type": "string" } }, "required": ["text"] }
      This ensures inputs are validated before execution and provides documentation for API consumers.
  
  output_schema:
    type: object
    label: Output Schema
    description: JSON schema defining the expected output format from this AI tool
    help_text: |
      Define the structure of the tool's response using JSON Schema format.
      Example: { "type": "object", "properties": { "result": { "type": "string" } } }
      This provides type safety and documentation for consumers of the tool's output.
  
  system_prompt:
    type: textarea
    label: System Prompt
    description: System-level instructions that define the AI model's behavior and role
    help_text: |
      The system prompt sets the context and personality for the AI model.
      Best practices:
      - Be clear and specific about the task
      - Define the expected output format
      - Include any constraints or guidelines
      - Provide examples if helpful
      Example: "You are a professional text summarizer. Create concise summaries that capture key points while maintaining accuracy."
  
  temperature:
    type: number
    label: Temperature
    description: Controls randomness/creativity in AI responses (0.0 - 2.0)
    help_text: |
      Temperature affects the randomness of the model's output:
      - 0.0-0.3: Very deterministic, consistent responses (good for factual tasks)
      - 0.4-0.7: Balanced creativity and consistency (general purpose)
      - 0.8-1.2: More creative and varied responses (good for content generation)
      - 1.3-2.0: Highly creative but may be less coherent (experimental use)
    min: 0
    max: 2
    defaultValue: 0.7
    precision: 2
  
  max_tokens:
    type: number
    label: Max Tokens
    description: Maximum number of tokens in the response
    min: 1
    max: 100000
    defaultValue: 2048
  
  timeout:
    type: number
    label: Timeout (seconds)
    description: Maximum execution time in seconds
    min: 1
    max: 300
    defaultValue: 30
  
  rate_limit:
    type: number
    label: Rate Limit
    description: Maximum number of calls per minute
    min: 1
    defaultValue: 60
  
  cost_per_call:
    type: currency
    label: Estimated Cost Per Call
    description: Estimated cost in USD for each tool execution
    scale: 6
  
  is_public:
    type: boolean
    label: Public
    description: Whether this tool is publicly accessible
    defaultValue: false
  
  tags:
    type: text
    label: Tags
    description: Comma-separated tags for categorization
    multiple: true
  
  owner:
    type: lookup
    reference_to: user
    label: Owner
    description: User who created or owns this tool
    index: true
  
  organization:
    type: lookup
    reference_to: organization
    label: Organization
    description: Organization this tool belongs to
    index: true
  
  usage_count:
    type: number
    label: Usage Count
    description: Number of times this tool has been executed
    readonly: true
    defaultValue: 0
  
  last_used_at:
    type: datetime
    label: Last Used At
    description: Timestamp of the last execution
    readonly: true
  
  created_at:
    type: datetime
    label: Created At
    defaultValue: now()
    readonly: true
  
  updated_at:
    type: datetime
    label: Updated At
    defaultValue: now()
    readonly: true

actions:
  execute:
    label: Execute Tool
    description: Run the AI tool with provided inputs
    params:
      input_data:
        type: object
        label: Input Data
        required: true
    result:
      type: object
  
  validate:
    label: Validate Configuration
    description: Validate the tool's configuration and schemas
    result:
      type: boolean
  
  test:
    label: Test Tool
    description: Test the tool with sample data
    params:
      sample_input:
        type: object
        label: Sample Input
    result:
      type: object
